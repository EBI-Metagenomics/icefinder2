var jsonData = {'xData': [2.515, 2.565, 2.615, 2.665, 2.715, 2.765, 2.815, 2.865, 2.915, 2.965, 3.015, 3.065, 3.115, 3.165, 3.215, 3.265, 3.315, 3.365, 3.415, 3.465, 3.515, 3.565, 3.615, 3.665, 3.715, 3.765, 3.815, 3.865, 3.915, 3.965, 4.015, 4.065, 4.115, 4.165, 4.215, 4.265, 4.315, 4.365, 4.415, 4.465, 4.515, 4.565, 4.615, 4.665, 4.715, 4.765, 4.815, 4.865, 4.915, 4.965, 5.015, 5.065, 5.115, 5.165, 5.215, 5.265, 5.315, 5.365, 5.415, 5.465, 5.515, 5.565, 5.615, 5.665, 5.715, 5.765, 5.815, 5.865, 5.915, 5.965, 6.015, 6.065, 6.115, 6.165, 6.215, 6.265, 6.315, 6.365, 6.415, 6.465, 6.515, 6.565, 6.615, 6.665, 6.715, 6.765, 6.815, 6.865, 6.915, 6.965, 7.015, 7.065, 7.115, 7.165, 7.215, 7.265, 7.315, 7.365, 7.415, 7.465, 7.515, 7.565, 7.615, 7.665, 7.715, 7.765, 7.815, 7.865, 7.915, 7.965, 8.015, 8.065, 8.115, 8.165, 8.215, 8.265, 8.315, 8.365, 8.415, 8.465, 8.515, 8.565, 8.615, 8.665, 8.715, 8.765, 8.815, 8.865, 8.915, 8.965, 9.015, 9.065, 9.115, 9.165, 9.215, 9.265, 9.315, 9.365, 9.415, 9.465, 9.515, 9.565, 9.615, 9.665, 9.715, 9.765, 9.815, 9.865, 9.915, 9.965, 10.015, 10.065, 10.115, 10.165, 10.215, 10.265, 10.315, 10.365, 10.415, 10.465, 10.515, 10.565, 10.615, 10.665, 10.715, 10.765, 10.815, 10.865, 10.915, 10.965, 11.015, 11.065, 11.115, 11.165, 11.215, 11.265, 11.315, 11.365, 11.415, 11.465, 11.515, 11.565, 11.615, 11.665, 11.715, 11.765, 11.815, 11.865, 11.915, 11.965, 12.015, 12.065, 12.115, 12.165, 12.215, 12.265, 12.315, 12.365, 12.415, 12.465, 12.515, 12.565, 12.615, 12.665, 12.715, 12.765, 12.815, 12.865, 12.915, 12.965, 13.015, 13.065, 13.115, 13.165, 13.215, 13.265, 13.315, 13.365, 13.415, 13.465, 13.515, 13.565, 13.615, 13.665, 13.715, 13.765, 13.815, 13.865, 13.915, 13.965, 14.015, 14.065, 14.115, 14.165, 14.215, 14.265, 14.315, 14.365, 14.415, 14.465, 14.515, 14.565, 14.615, 14.665, 14.715, 14.765, 14.815, 14.865, 14.915, 14.965, 15.015, 15.065, 15.115, 15.165, 15.215, 15.265, 15.315, 15.365, 15.415, 15.465, 15.515, 15.565, 15.615, 15.665, 15.715, 15.765, 15.815, 15.865, 15.915, 15.965, 16.015, 16.065, 16.115, 16.165, 16.215, 16.265, 16.315, 16.365, 16.415, 16.465, 16.515, 16.565, 16.615, 16.665, 16.715, 16.765, 16.815, 16.865, 16.915, 16.965, 17.015, 17.065, 17.115, 17.165, 17.215, 17.265, 17.315, 17.365, 17.415, 17.465, 17.515, 17.565, 17.615, 17.665, 17.715, 17.765, 17.815, 17.865, 17.915, 17.965, 18.015, 18.065, 18.115, 18.165, 18.215, 18.265, 18.315, 18.365, 18.415, 18.465, 18.515, 18.565, 18.615, 18.665, 18.715, 18.765, 18.815, 18.865, 18.915, 18.965, 19.015, 19.065, 19.115, 19.165, 19.215, 19.265, 19.315, 19.365, 19.415, 19.465, 19.515, 19.565, 19.615, 19.665, 19.715, 19.765, 19.815, 19.865, 19.915, 19.965, 20.015, 20.065, 20.115, 20.165, 20.215, 20.265, 20.315, 20.365, 20.415, 20.465, 20.515, 20.565, 20.615, 20.665, 20.715, 20.765, 20.815, 20.865, 20.915, 20.965, 21.015, 21.065, 21.115, 21.165, 21.215, 21.265, 21.315, 21.365, 21.415, 21.465, 21.515, 21.565, 21.615, 21.665, 21.715, 21.765, 21.815, 21.865, 21.915, 21.965, 22.015, 22.065, 22.115, 22.165, 22.215, 22.265, 22.315, 22.365, 22.415, 22.465, 22.515, 22.565, 22.615, 22.665, 22.715, 22.765, 22.815, 22.865, 22.915, 22.965, 23.015, 23.065, 23.115, 23.165, 23.215, 23.265, 23.315, 23.365, 23.415, 23.465, 23.515, 23.565, 23.615, 23.665, 23.715, 23.765, 23.815, 23.865, 23.915, 23.965, 24.015, 24.065, 24.115, 24.165, 24.215, 24.265, 24.315, 24.365, 24.415, 24.465, 24.515, 24.565, 24.615, 24.665, 24.715, 24.765, 24.815, 24.865, 24.915, 24.965, 25.015, 25.065, 25.115, 25.165, 25.215, 25.265, 25.315, 25.365, 25.415, 25.465, 25.515, 25.565, 25.615, 25.665, 25.715, 25.765, 25.815, 25.865, 25.915, 25.965, 26.015, 26.065, 26.115, 26.165, 26.215, 26.265, 26.315, 26.365, 26.415, 26.465, 26.515, 26.565, 26.615, 26.665, 26.715, 26.765, 26.815, 26.865, 26.915, 26.965, 27.015, 27.065, 27.115, 27.165, 27.215, 27.265, 27.315, 27.365, 27.415, 27.465, 27.515, 27.565, 27.615, 27.665, 27.715, 27.765, 27.815, 27.865, 27.915, 27.965, 28.015, 28.065, 28.115, 28.165, 28.215, 28.265, 28.315, 28.365, 28.415, 28.465, 28.515, 28.565, 28.615, 28.665, 28.715, 28.765, 28.815, 28.865, 28.915, 28.965, 29.015, 29.065, 29.115, 29.165, 29.215, 29.265, 29.315, 29.365, 29.415, 29.465, 29.515, 29.565, 29.615, 29.665, 29.715, 29.765, 29.815, 29.865, 29.915, 29.965, 30.015, 30.065, 30.115, 30.165, 30.215, 30.265, 30.315, 30.365, 30.415, 30.465, 30.515, 30.565, 30.615, 30.665, 30.715, 30.765, 30.815, 30.865, 30.915, 30.965, 31.015, 31.065, 31.115, 31.165, 31.215, 31.265, 31.315, 31.365, 31.415, 31.465, 31.515, 31.565, 31.615, 31.665, 31.715, 31.765, 31.815, 31.865, 31.915, 31.965, 32.015, 32.065, 32.115, 32.165, 32.215, 32.265, 32.315, 32.365, 32.415, 32.465, 32.515, 32.565, 32.615, 32.665, 32.715, 32.765, 32.815, 32.865, 32.915, 32.965, 33.015, 33.065, 33.115, 33.165, 33.215, 33.265, 33.315, 33.365, 33.415, 33.465, 33.515, 33.565, 33.615, 33.665, 33.715, 33.765, 33.815, 33.865, 33.915, 33.965, 34.015, 34.065, 34.115, 34.165, 34.215, 34.265, 34.315, 34.365, 34.415, 34.465, 34.515, 34.565, 34.615, 34.665, 34.715, 34.765, 34.815, 34.865, 34.915, 34.965, 35.015, 35.065, 35.115, 35.165, 35.215, 35.265, 35.315, 35.365, 35.415, 35.465, 35.515, 35.565, 35.615, 35.665, 35.715, 35.765, 35.815, 35.865, 35.915, 35.965, 36.015, 36.065, 36.115, 36.165, 36.215, 36.265, 36.315, 36.365, 36.415, 36.465, 36.515, 36.565, 36.615, 36.665, 36.715, 36.765, 36.815, 36.865, 36.915, 36.965, 37.015, 37.065, 37.115, 37.165, 37.215, 37.265, 37.315, 37.365, 37.415, 37.465, 37.515, 37.565, 37.615, 37.665, 37.715, 37.765, 37.815, 37.865, 37.915, 37.965, 38.015, 38.065, 38.115, 38.165, 38.215, 38.265, 38.315, 38.365, 38.415, 38.465, 38.515, 38.565, 38.615, 38.665, 38.715, 38.765, 38.815, 38.865, 38.915, 38.965, 39.015, 39.065, 39.115, 39.165, 39.215, 39.265, 39.315, 39.365, 39.415, 39.465, 39.515, 39.565, 39.615, 39.665, 39.715, 39.765, 39.815, 39.865, 39.915, 39.965, 40.015, 40.065, 40.115, 40.165, 40.215, 40.265, 40.315, 40.365, 40.415, 40.465, 40.515, 40.565, 40.615, 40.665, 40.715, 40.765, 40.815, 40.865, 40.915, 40.965, 41.015, 41.065, 41.115, 41.165, 41.215, 41.265, 41.315, 41.365, 41.415, 41.465, 41.515, 41.565, 41.615, 41.665, 41.715, 41.765, 41.815, 41.865, 41.915, 41.965, 42.015, 42.065, 42.115, 42.165, 42.215, 42.265, 42.315, 42.365, 42.415, 42.465, 42.515, 42.565, 42.615, 42.665, 42.715, 42.765, 42.815, 42.865, 42.915, 42.965, 43.015, 43.065, 43.115, 43.165, 43.215, 43.265, 43.315, 43.365, 43.415, 43.465, 43.515, 43.565, 43.615, 43.665, 43.715, 43.765, 43.815, 43.865, 43.915, 43.965, 44.015, 44.065], 'datasets': [{'name': '', 'data': [30.2, 29.4, 30.0, 32.0, 34.0, 34.8, 36.4, 36.8, 36.6, 37.0, 35.8, 34.6, 34.2, 36.4, 37.2, 35.2, 35.4, 37.0, 37.8, 37.8, 39.4, 40.2, 40.4, 39.0, 38.8, 41.0, 40.4, 38.0, 36.4, 36.4, 36.8, 38.0, 38.2, 37.6, 37.0, 36.6, 38.0, 38.4, 39.6, 39.2, 39.0, 38.2, 38.6, 39.8, 40.4, 41.2, 40.4, 40.2, 39.2, 37.8, 38.4, 39.6, 38.6, 36.4, 34.6, 32.0, 31.2, 32.4, 32.8, 33.0, 30.4, 29.2, 28.4, 28.2, 28.4, 29.6, 30.0, 28.6, 28.0, 28.8, 29.6, 30.2, 31.6, 32.6, 33.6, 34.6, 35.2, 35.6, 36.6, 37.8, 37.4, 36.2, 37.2, 37.0, 36.6, 36.0, 35.2, 34.8, 34.8, 34.4, 35.4, 36.0, 34.6, 34.8, 34.4, 33.8, 34.8, 35.8, 37.2, 37.4, 38.2, 39.2, 40.0, 39.4, 40.4, 41.4, 41.0, 40.4, 39.2, 38.6, 37.4, 37.6, 37.6, 38.0, 36.6, 36.2, 37.8, 37.8, 38.0, 37.6, 37.0, 36.8, 35.6, 34.4, 35.0, 35.4, 34.0, 32.8, 31.6, 30.8, 31.2, 30.6, 31.8, 31.8, 32.0, 30.8, 30.8, 31.8, 31.6, 31.2, 31.2, 30.4, 30.6, 31.2, 30.2, 31.2, 29.8, 29.8, 31.4, 32.6, 33.0, 33.6, 32.8, 32.0, 32.4, 33.0, 34.6, 34.8, 34.4, 35.2, 37.0, 36.6, 36.6, 37.4, 38.0, 37.4, 37.4, 36.8, 35.8, 35.8, 35.0, 35.6, 36.2, 36.8, 36.6, 37.0, 35.6, 35.6, 35.4, 33.2, 33.4, 33.2, 31.2, 30.6, 30.0, 29.8, 30.4, 30.6, 31.4, 32.4, 30.2, 30.2, 31.8, 32.0, 32.8, 33.0, 33.0, 32.2, 30.8, 30.0, 31.6, 33.6, 34.6, 33.8, 33.8, 33.2, 32.6, 32.8, 33.8, 35.2, 34.0, 31.2, 29.4, 29.6, 28.8, 28.2, 28.4, 29.0, 28.6, 28.0, 27.6, 27.0, 26.4, 26.4, 27.4, 27.8, 28.8, 29.8, 30.8, 30.2, 30.6, 31.2, 32.6, 32.6, 31.4, 31.0, 30.2, 29.2, 28.2, 29.0, 28.8, 30.4, 30.0, 29.2, 30.2, 30.6, 30.2, 30.2, 29.8, 29.8, 31.0, 29.6, 29.6, 30.4, 31.0, 30.8, 31.4, 31.2, 31.0, 30.2, 30.8, 32.4, 32.0, 31.8, 31.2, 32.0, 32.6, 34.2, 34.4, 36.2, 34.6, 34.8, 36.4, 36.8, 36.6, 35.0, 33.0, 30.8, 31.8, 30.2, 31.2, 30.0, 28.4, 29.4, 29.4, 30.6, 32.0, 34.0, 34.0, 34.8, 35.2, 35.4, 37.0, 37.2, 37.4, 37.2, 37.6, 37.2, 38.2, 39.0, 38.8, 38.2, 38.6, 38.2, 37.8, 38.8, 37.8, 38.8, 37.0, 37.8, 37.6, 38.8, 37.6, 38.0, 38.4, 37.4, 37.6, 36.6, 38.0, 37.8, 39.0, 39.0, 38.8, 39.2, 40.2, 40.0, 41.0, 40.4, 40.8, 39.6, 38.4, 38.2, 38.6, 37.8, 37.0, 37.4, 37.8, 37.6, 36.8, 36.8, 37.0, 36.0, 36.4, 36.8, 36.4, 37.0, 36.6, 37.0, 38.0, 38.4, 39.2, 40.2, 39.0, 37.2, 37.4, 37.0, 36.4, 37.6, 37.2, 37.4, 37.0, 36.8, 37.6, 38.4, 39.6, 40.4, 40.6, 39.2, 39.0, 38.8, 38.0, 39.2, 39.6, 40.6, 40.4, 40.0, 41.2, 41.2, 42.0, 42.8, 43.8, 42.8, 41.8, 41.4, 41.2, 41.0, 41.8, 41.8, 39.6, 39.2, 38.8, 37.6, 39.0, 39.2, 39.0, 39.6, 38.0, 39.0, 40.2, 39.6, 39.4, 40.6, 40.2, 40.6, 40.6, 40.4, 40.0, 39.4, 39.2, 39.2, 39.4, 39.2, 40.0, 39.8, 39.0, 38.8, 39.2, 39.6, 40.4, 39.6, 41.0, 40.2, 37.6, 37.6, 38.8, 37.6, 36.6, 36.0, 35.0, 36.2, 35.2, 35.6, 35.8, 35.2, 33.2, 34.0, 33.8, 33.6, 32.8, 32.2, 31.6, 33.6, 34.6, 34.6, 37.2, 36.6, 36.4, 36.8, 38.8, 39.6, 38.8, 36.4, 36.8, 36.6, 34.2, 35.0, 37.8, 38.8, 37.6, 36.2, 37.4, 39.2, 39.8, 41.2, 43.2, 43.0, 40.8, 40.6, 41.0, 42.2, 43.0, 41.6, 41.4, 41.2, 40.4, 40.4, 41.0, 40.2, 40.0, 39.8, 38.6, 38.8, 37.0, 36.8, 38.0, 37.4, 38.0, 37.8, 37.8, 37.6, 37.8, 38.2, 39.8, 39.8, 38.2, 39.6, 39.2, 39.4, 39.6, 40.0, 39.8, 39.6, 40.0, 39.0, 39.6, 39.4, 40.4, 42.8, 43.8, 44.8, 45.6, 46.0, 45.4, 46.6, 47.0, 47.0, 46.8, 45.8, 44.8, 43.8, 43.0, 42.8, 42.4, 42.4, 41.8, 40.6, 39.4, 38.6, 38.8, 39.2, 39.6, 38.8, 39.4, 38.0, 37.8, 38.6, 38.6, 39.4, 39.6, 39.6, 38.6, 39.2, 39.4, 40.2, 40.4, 40.8, 41.0, 40.4, 40.4, 39.8, 41.2, 41.8, 41.6, 42.0, 42.4, 41.0, 41.6, 41.2, 40.6, 39.8, 39.6, 40.8, 40.8, 40.8, 41.6, 44.0, 43.4, 43.2, 44.8, 45.2, 45.4, 43.6, 42.8, 42.4, 42.0, 41.2, 42.6, 43.6, 42.2, 42.2, 40.4, 40.2, 41.0, 39.8, 39.2, 39.6, 37.4, 35.6, 36.2, 37.4, 39.4, 40.4, 41.6, 43.0, 43.8, 45.0, 44.8, 45.4, 45.4, 45.0, 44.0, 41.8, 41.2, 41.0, 39.4, 37.4, 39.4, 39.2, 38.6, 38.6, 38.4, 38.8, 38.2, 39.4, 40.6, 41.2, 39.4, 40.4, 40.0, 40.2, 40.8, 42.0, 42.6, 41.6, 41.2, 39.8, 40.4, 39.2, 40.4, 39.4, 39.0, 39.0, 38.0, 36.4, 36.4, 37.2, 37.2, 38.2, 37.0, 37.6, 37.8, 37.8, 38.4, 40.6, 39.8, 39.6, 38.2, 37.8, 37.8, 37.4, 37.2, 37.4, 38.4, 37.0, 37.0, 38.2, 39.2, 39.8, 40.6, 40.2, 40.4, 39.6, 38.0, 37.4, 38.2, 36.4, 36.8, 36.2, 35.4, 35.6, 36.2, 36.4, 36.4, 38.2, 38.0, 38.6, 38.8, 39.2, 40.8, 40.6, 39.8, 41.0, 40.2, 39.4, 38.6, 40.0, 39.4, 40.0, 38.4, 38.6, 37.6, 36.2, 37.6, 37.0, 38.6, 37.2, 38.6, 38.8, 39.2, 40.0, 41.2, 42.2, 43.2, 46.2, 45.0, 44.8, 44.0, 43.4, 44.0, 44.0, 44.8, 45.8, 45.0, 43.4, 44.4, 44.6, 44.2, 42.6, 42.4, 42.2, 41.2, 39.8, 40.0, 39.0, 39.2, 39.0, 39.6, 40.6, 39.8, 39.8, 39.4, 39.2, 39.4, 41.0, 42.6, 43.0, 42.8, 43.6, 43.6, 44.2, 43.6, 43.4, 41.4, 39.6, 38.0, 37.8, 39.0, 39.6, 41.2, 40.8, 41.0, 41.8, 42.2, 42.8, 43.6, 42.8, 43.0, 41.4, 40.4, 41.0, 41.6, 41.0, 42.2, 41.8, 40.8, 40.8, 38.4, 36.8, 35.8, 34.6, 34.8, 34.2, 33.4, 33.0, 32.0, 32.0, 32.6, 34.4, 34.2, 35.8, 36.6, 36.6, 35.6, 36.0, 36.0, 36.4, 37.2, 37.0, 38.4, 36.4, 35.4, 36.0, 37.4, 37.6, 38.4, 38.0, 36.6, 37.4, 36.4, 36.8, 35.4, 34.8, 34.4, 34.0, 33.8, 35.0, 36.4, 34.8, 33.0, 33.2, 34.4, 34.2, 34.8, 35.0, 35.2, 35.0, 35.2, 36.8, 39.4, 38.6, 39.0, 39.4, 39.2, 39.2, 38.8, 38.0, 37.4, 36.2, 35.6, 36.4, 37.0, 37.2], 'unit': '%', 'type': 'line', 'valueDecimals': 1}]};
let container = document.getElementById('gcmap'),
  highlightPoint = function(e) {
    var chart,
      point,
      i,
      event;
    for (i = 0; i < Highcharts.charts.length; i = i + 1) {
      chart = Highcharts.charts[i];
      // Find coordinates within the chart
      event = chart.pointer.normalize(e);
      // Get the hovered point
      point = chart.series[0].searchPoint(event, true);
      if (point) {
        point.highlight(e);
      }
    }
  };
['mousemove', 'touchmove', 'touchstart'].forEach(function (eventType) {
  container.addEventListener(
    eventType,
    function (e) {
      highlightPoint(e);
    }
  );
});
/**
 * 重写内部的方法， 这里是将提示框即十字准星的隐藏函数关闭
 */
Highcharts.Pointer.prototype.reset = function () {
  return undefined;
};
/**
 * 高亮当前的数据点，并设置鼠标滑动状态及绘制十字准星线
 */
Highcharts.Point.prototype.highlight = function (event) {
  this.onMouseOver(); // 显示鼠标激活标识
  this.series.chart.tooltip.refresh(this); // 显示提示框
  this.series.chart.xAxis[0].drawCrosshair(event, this); // 显示十字准星线
};
/**
 * 同步缩放效果，即当一个图表进行了缩放效果，其他图表也进行缩放
 */
function syncExtremes(e) {
  var thisChart = this.chart;
  if (e.trigger !== 'syncExtremes') { 
    Highcharts.each(Highcharts.charts, function (chart) {
      if (chart !== thisChart) {
        if (chart.xAxis[0].setExtremes) { 
          chart.xAxis[0].setExtremes(e.min, e.max, undefined, false, { trigger: 'syncExtremes' });
        }
      }
    });
  }
}
// 使用定义的JSON数据
var activity = jsonData;

activity.datasets.forEach(function (dataset, i) {
  // Add X values
  dataset.data = Highcharts.map(dataset.data, function (val, j) {
    return [activity.xData[j], val];
  });
  var chartDiv = document.createElement('div');
  chartDiv.className = 'chart';
  container.appendChild(chartDiv);
  Highcharts.chart(chartDiv, {
    chart: {
      width: 990,
      height: 200,
      marginLeft: 45, // Keep all charts left aligned
      spacingTop: 20,
      spacingBottom: 20
    },
    title: {
      text: dataset.name,
      align: 'left',
      margin: 0,
      x: 30
    },
    credits: {
      enabled: false
    },
    legend: {
      enabled: false
    },
    xAxis: {
      crosshair: true,
      events: {
        setExtremes: syncExtremes
      },
      labels: {
        format: '{value} k'
      }
    },
    yAxis: {
      title: {
        text: null
      }
    },
    tooltip: {
      positioner: function () {
        return {
          // right aligned
          x: this.chart.chartWidth - this.label.width,
          y: 10 // align to title
        };
      },
      borderWidth: 0,
      backgroundColor: 'none',
      pointFormat: '{point.y}',
      headerFormat: '',
      shadow: false,
      style: {
        fontSize: '12px'
      },
      valueDecimals: dataset.valueDecimals
    },
    series: [{
      data: dataset.data,
      name: dataset.name,
      type: dataset.type,
      lineWidth:1,
      color: Highcharts.getOptions().colors[i],
      fillOpacity: 0.3,
      tooltip: {
        valueSuffix: ' ' + dataset.unit
      }
    }]
  });
});
